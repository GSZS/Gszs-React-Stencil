#### Reactç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### ğŸŒ± å®‰è£…æ‰€éœ€ä¾èµ–

* <b>å®‰è£…yumå¿…è¦ä¾èµ–æ¨¡å—</b>

  yum -y install gcc gcc-c++ autoconf pcre-devel make automake

  yum -y install wget httpd-tools vim

  sudo rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm

* <b>å®‰è£…Nginx</b>

    sudo yum install -y nginx

#### ğŸŒµ Nginx

  ```js
  // å¯åŠ¨Nginx 
  nginx

  // â—ï¸å¦‚æœå¯åŠ¨nginxæŠ¥80ç«¯å£è¢«å ç”¨çš„è¯:è§£å†³æ–¹æ³•å¦‚ä¸‹
  netstat -anp|grep 80
  kill -9 (å ç”¨80ç«¯å£çš„id)

  // è®¾ç½®å¼€æœºå¯åŠ¨nginx
  sudo systemctl enable nginx.service
    
  ```

#### ğŸ€ ç®€æ˜“éƒ¨ç½²

  ```js
  // æ‰“åŒ…Reacté¡¹ç›®
  yarn build
  
  // å°†æ‰“åŒ…çš„æ–‡ä»¶ä¸Šä¼ è‡³æœåŠ¡å™¨ä¸­çš„"/usr/share/nginx/html"
  
  // åœ¨æœåŠ¡å™¨nginxç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªç§äººçš„nginx.confï¼Œå¹¶å†™å…¥å¦‚ä¸‹å†…å®¹:
  mkdir conf.d && vim default.conf
  
  // å†™å…¥çš„å†…å®¹
  server {
    listen       80;
    server_name  localhost;

    #charset koi8-r;
    #access_log  /var/log/nginx/host.access.log  main;

    location / {
      root /usr/share/nginx/html/build;
	    index  index.html index.htm;
    }
  }

  // åœ¨åŸnginx.confä¸­å¯¼å…¥ç§äººçš„nginx-serveré…ç½®
  
  http {
    ...
    +++ include /etc/nginx/conf.d/*.conf; // åŠ ä¸Šè¿™è¡Œç”¨äºå¯¼å…¥ç§äººnginx-serveré…ç½®
    ...
  }

  // é‡å¯nginx
  nginx -s reload

  // æµ‹è¯•(nginxé»˜è®¤æ˜¯80ç«¯å£)
  ip/#/login

  ```

#### ğŸŒ¿ é˜¿é‡Œäº‘

  ```js
  // ç»‘å®šåŸŸå
  ç›´æ¥åœ¨åŸŸåè§£æé‚£é‡Œæ·»åŠ ä¸€æ¡Açš„è§£æè®°å½•ï¼Œå°†IPä¸åŸŸåç»‘å®š
  ```

  ```js
  /*  å°†HTTPå‡çº§ä¸ºHTTPS */

  // å…ˆå¼€å¯é˜¿é‡Œäº‘æœåŠ¡å™¨çš„443ç«¯å£
  // é…ç½®Nginx.conf,æˆ‘çš„é…ç½®å¦‚ä¸‹(ä¸¤ä¸ªserveråˆ†åˆ«å¯¹åº”HTTPè·ŸHTTPS)
  # HTTPS:
  server {
    listen       443 ssl; # è¦åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨å¼€å¯443ç«¯å£
    server_name  www.gszs.top; # ç»‘å®šsslè¯ä¹¦çš„åŸŸå
    ssl on;
    ssl_certificate /usr/share/nginx/ssl/gszs_nginx.top.pem; # pemè·¯å¾„
    ssl_certificate_key /usr/share/nginx/ssl/gszs_nginx.top.key; # keyè·¯å¾„
    ssl_session_timeout 5m;
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    ssl_prefer_server_ciphers on;

  location / {
      # root /usr/share/nginx/html;
      root /usr/share/nginx/html/build;
      index index.html index.htm;
    }

    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
      root /usr/share/nginx/html;
    }

  }

  # HTTP:
  server {
    listen  80;
    server_name localhost;

    location / {
      root /usr/share/nginx/html/build;
      index index.html index.htm;
    }

    error_page 500 502 503 504 /50x.html;

    location = /50x.html {
      root /usr/share/nginx/html;
    }
  }

  ```